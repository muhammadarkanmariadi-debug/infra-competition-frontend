{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/iqbalrizqi/Desktop/app/next/infra-competition-frontend/src/app/_components/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'http://localhost:8001/api', // Sesuaikan dengan backendmu\n  withCredentials: true, // Jika perlu untuk cookie atau session\n});\n\n// JWT Token? Tambahkan interceptor\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token'); // Or context\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\nexport const setAuthToken = (token: string) => {\n  if (token) {\n    localStorage.setItem('token', token);\n  } else {\n    localStorage.removeItem('token');\n  }\n};\n\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,iBAAiB;AACnB;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC,UAAU,aAAa;IAC1D,IAAI,OAAO,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAC3D,OAAO;AACT;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO;QACT,aAAa,OAAO,CAAC,SAAS;IAChC,OAAO;QACL,aAAa,UAAU,CAAC;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/iqbalrizqi/Desktop/app/next/infra-competition-frontend/src/app/admin/posts/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Plus, Edit, Trash2, Image as ImageIcon } from 'lucide-react';\nimport { api } from '@/app/_components/lib/api';\n\ninterface Post {\n  id: string;\n  title: string;\n  content: string;\n  author: {\n    name: string;\n    role: string;\n  };\n  slug: string;\n  tags: string;\n  thumbnail: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\nexport default function PostListPage() {\n  const router = useRouter();\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        setLoading(true);\n        const response = await api.get('/blog');\n        setPosts(response.data.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching posts:', err);\n        setError('Gagal memuat data posts');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPosts();\n  }, []);\n\n  const handleCreatePost = () => {\n    router.push('/admin/posts/post');\n  };\n\n  const handleEditPost = (postId: string) => {\n    router.push(`/admin/posts/${postId}`);\n  };\n\n  const handleDeletePost = async (postId: string) => {\n    if (confirm('Apakah Anda yakin ingin menghapus post ini?')) {\n      try {\n        await api.delete(`/blog/${postId}`);\n        const updatedPosts = posts.filter((post) => post.id !== postId);\n        setPosts(updatedPosts);\n      } catch (err) {\n        console.error('Error deleting post:', err);\n        alert('Gagal menghapus post');\n      }\n    }\n  };\n\n  // Pagination\n  const totalPages = Math.ceil(posts.length / rowsPerPage);\n  const startIndex = (currentPage - 1) * rowsPerPage;\n  const endIndex = startIndex + rowsPerPage;\n  const currentPosts = posts.slice(startIndex, endIndex);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center bg-gray-50 min-h-screen\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      {/* Main Content */}\n      <div className=\"mx-auto px-6 py-8 max-w-7xl\">\n        {/* Header */}\n        <div className=\"flex justify-between items-start mb-6\">\n          <div>\n            <h1 className=\"mb-2 font-bold text-gray-900 text-3xl\">Posts</h1>\n            <p className=\"text-gray-600\">Kelola semua posts sekolah</p>\n          </div>\n          <button\n            onClick={handleCreatePost}\n            className=\"flex items-center gap-2 bg-red-500 hover:bg-red-600 px-6 py-3 rounded-lg font-medium text-white transition-colors\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            Add Post\n          </button>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"bg-red-50 mb-6 px-4 py-3 border border-red-200 rounded-lg text-red-700\">\n            {error}\n          </div>\n        )}\n\n        {/* Table */}\n        <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 border-gray-200 border-b\">\n                <tr>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Thumbnail\n                  </th>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Title\n                  </th>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Category\n                  </th>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Author\n                  </th>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Updated\n                  </th>\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\n                    Action\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {currentPosts.length === 0 ? (\n                  <tr>\n                    <td colSpan={7} className=\"px-6 py-12 text-gray-500 text-center\">\n                      <ImageIcon className=\"mx-auto mb-3 w-12 h-12 text-gray-400\" />\n                      <p className=\"mb-2 text-lg\">Belum ada posts</p>\n                      <p className=\"text-sm\">Klik tombol \"Add Post\" untuk membuat post baru</p>\n                    </td>\n                  </tr>\n                ) : (\n                  currentPosts.map((post) => (\n                    <tr key={post.id} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex justify-center items-center bg-gray-200 rounded-lg w-16 h-16 overflow-hidden\">\n                          {post.thumbnail ? (\n                            <img src={post.thumbnail} alt={post.title} className=\"w-full h-full object-cover\" />\n                          ) : (\n                            <ImageIcon className=\"w-6 h-6 text-gray-400\" />\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className=\"font-medium text-gray-900 text-sm line-clamp-2\">{post.title}</span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className=\"text-gray-600 text-sm\">{post.tags}</span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className=\"text-gray-600 text-sm\">{post.author.name}</span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className=\"text-gray-600 text-sm\">\n                          {new Date(post.updated_at).toLocaleDateString('id-ID', {\n                            day: '2-digit',\n                            month: 'short',\n                            year: 'numeric',\n                          })}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => handleEditPost(post.slug)}\n                            className=\"hover:bg-blue-50 p-2 rounded text-blue-600 transition-colors\"\n                            title=\"Edit\"\n                          >\n                            <Edit className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            onClick={() => handleDeletePost(post.id)}\n                            className=\"hover:bg-red-50 p-2 rounded text-red-600 transition-colors\"\n                            title=\"Delete\"\n                          >\n                            <Trash2 className=\"w-5 h-5\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Pagination */}\n          {posts.length > 0 && (\n            <div className=\"flex justify-between items-center px-6 py-4 border-gray-200 border-t\">\n              <div className=\"flex items-center gap-2 text-gray-600 text-sm\">\n                <span>Rows per page:</span>\n                <select\n                  value={rowsPerPage}\n                  onChange={(e) => {\n                    setRowsPerPage(Number(e.target.value));\n                    setCurrentPage(1);\n                  }}\n                  className=\"px-2 py-1 border border-gray-300 rounded text-sm\"\n                >\n                  <option value={10}>10</option>\n                  <option value={25}>25</option>\n                  <option value={50}>50</option>\n                </select>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-gray-600 text-sm\">\n                  {startIndex + 1}-{Math.min(endIndex, posts.length)} of {posts.length}\n                </span>\n                <div className=\"flex gap-1\">\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                    disabled={currentPage === 1}\n                    className=\"hover:bg-gray-50 disabled:opacity-50 px-3 py-1 border border-gray-300 rounded text-sm disabled:cursor-not-allowed\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                    disabled={currentPage === totalPages}\n                    className=\"hover:bg-gray-50 disabled:opacity-50 px-3 py-1 border border-gray-300 rounded text-sm disabled:cursor-not-allowed\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}