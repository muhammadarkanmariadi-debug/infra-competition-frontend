{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/infra-competition/fe/src/app/_components/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const api = axios.create({\r\n  baseURL: 'http://localhost:8000/api', // Sesuaikan dengan backendmu\r\n  withCredentials: true, // Jika perlu untuk cookie atau session\r\n});\r\n\r\n// JWT Token? Tambahkan interceptor\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token'); // Or context\r\n  if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  return config;\r\n});\r\n\r\nexport const setAuthToken = (token: string) => {\r\n  if (token) {\r\n    localStorage.setItem('token', token);\r\n  } else {\r\n    localStorage.removeItem('token');\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,iBAAiB;AACnB;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC,UAAU,aAAa;IAC1D,IAAI,OAAO,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAC3D,OAAO;AACT;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO;QACT,aAAa,OAAO,CAAC,SAAS;IAChC,OAAO;QACL,aAAa,UAAU,CAAC;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/infra-competition/fe/src/app/admin/posts/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Plus, Edit, Trash2, Image as ImageIcon } from 'lucide-react';\r\nimport { api } from '@/app/_components/lib/api';\r\n\r\ninterface Post {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  author: {\r\n    name: string;\r\n    role: string;\r\n  };\r\n  tags: string;\r\n  thumbnail: string | null;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport default function PostListPage() {\r\n  const router = useRouter();\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await api.get('/blog');\r\n        setPosts(response.data.data.data);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Error fetching posts:', err);\r\n        setError('Gagal memuat data posts');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const handleCreatePost = () => {\r\n    router.push('/admin/posts/post');\r\n  };\r\n\r\n  const handleEditPost = (postId: string) => {\r\n    router.push(`/admin/posts/${postId}`);\r\n  };\r\n\r\n  const handleDeletePost = async (postId: string) => {\r\n    if (confirm('Apakah Anda yakin ingin menghapus post ini?')) {\r\n      try {\r\n        await api.delete(`/blog/${postId}`);\r\n        const updatedPosts = posts.filter((post) => post.id !== postId);\r\n        setPosts(updatedPosts);\r\n      } catch (err) {\r\n        console.error('Error deleting post:', err);\r\n        alert('Gagal menghapus post');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(posts.length / rowsPerPage);\r\n  const startIndex = (currentPage - 1) * rowsPerPage;\r\n  const endIndex = startIndex + rowsPerPage;\r\n  const currentPosts = posts.slice(startIndex, endIndex);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center bg-gray-50 min-h-screen\">\r\n        <p className=\"text-gray-600\">Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      {/* Main Content */}\r\n      <div className=\"mx-auto px-6 py-8 max-w-7xl\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-start mb-6\">\r\n          <div>\r\n            <h1 className=\"mb-2 font-bold text-gray-900 text-3xl\">Posts</h1>\r\n            <p className=\"text-gray-600\">Kelola semua posts sekolah</p>\r\n          </div>\r\n          <button\r\n            onClick={handleCreatePost}\r\n            className=\"flex items-center gap-2 bg-red-500 hover:bg-red-600 px-6 py-3 rounded-lg font-medium text-white transition-colors\"\r\n          >\r\n            <Plus className=\"w-5 h-5\" />\r\n            Add Post\r\n          </button>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-50 mb-6 px-4 py-3 border border-red-200 rounded-lg text-red-700\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Table */}\r\n        <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-50 border-gray-200 border-b\">\r\n                <tr>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Thumbnail\r\n                  </th>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Title\r\n                  </th>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Category\r\n                  </th>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Author\r\n                  </th>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Updated\r\n                  </th>\r\n                  <th className=\"px-6 py-4 font-semibold text-gray-700 text-xs text-left uppercase tracking-wider\">\r\n                    Action\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200\">\r\n                {currentPosts.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={7} className=\"px-6 py-12 text-gray-500 text-center\">\r\n                      <ImageIcon className=\"mx-auto mb-3 w-12 h-12 text-gray-400\" />\r\n                      <p className=\"mb-2 text-lg\">Belum ada posts</p>\r\n                      <p className=\"text-sm\">Klik tombol \"Add Post\" untuk membuat post baru</p>\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  currentPosts.map((post) => (\r\n                    <tr key={post.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex justify-center items-center bg-gray-200 rounded-lg w-16 h-16 overflow-hidden\">\r\n                          {post.thumbnail ? (\r\n                            <img src={post.thumbnail} alt={post.title} className=\"w-full h-full object-cover\" />\r\n                          ) : (\r\n                            <ImageIcon className=\"w-6 h-6 text-gray-400\" />\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"font-medium text-gray-900 text-sm line-clamp-2\">{post.title}</span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"text-gray-600 text-sm\">{post.tags}</span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"text-gray-600 text-sm\">{post.author.name}</span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"text-gray-600 text-sm\">\r\n                          {new Date(post.updatedAt).toLocaleDateString('id-ID')}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button\r\n                            onClick={() => handleEditPost(post.id)}\r\n                            className=\"hover:bg-blue-50 p-2 rounded text-blue-600 transition-colors\"\r\n                            title=\"Edit\"\r\n                          >\r\n                            <Edit className=\"w-5 h-5\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeletePost(post.id)}\r\n                            className=\"hover:bg-red-50 p-2 rounded text-red-600 transition-colors\"\r\n                            title=\"Delete\"\r\n                          >\r\n                            <Trash2 className=\"w-5 h-5\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {posts.length > 0 && (\r\n            <div className=\"flex justify-between items-center px-6 py-4 border-gray-200 border-t\">\r\n              <div className=\"flex items-center gap-2 text-gray-600 text-sm\">\r\n                <span>Rows per page:</span>\r\n                <select\r\n                  value={rowsPerPage}\r\n                  onChange={(e) => {\r\n                    setRowsPerPage(Number(e.target.value));\r\n                    setCurrentPage(1);\r\n                  }}\r\n                  className=\"px-2 py-1 border border-gray-300 rounded text-sm\"\r\n                >\r\n                  <option value={10}>10</option>\r\n                  <option value={25}>25</option>\r\n                  <option value={50}>50</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-gray-600 text-sm\">\r\n                  {startIndex + 1}-{Math.min(endIndex, posts.length)} of {posts.length}\r\n                </span>\r\n                <div className=\"flex gap-1\">\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                    disabled={currentPage === 1}\r\n                    className=\"hover:bg-gray-50 disabled:opacity-50 px-3 py-1 border border-gray-300 rounded text-sm disabled:cursor-not-allowed\"\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                    disabled={currentPage === totalPages}\r\n                    className=\"hover:bg-gray-50 disabled:opacity-50 px-3 py-1 border border-gray-300 rounded text-sm disabled:cursor-not-allowed\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}